<header id="main-header" class="fixed top-0 w-full z-50 transition-all duration-300 bg-white/90 backdrop-blur-2xl border-b border-slate-200/60 shadow-[0_2px_15px_-3px_rgba(0,0,0,0.07)]">
    
    <div class="absolute top-0 left-0 w-full h-[3px] bg-gradient-to-r from-orange-500 via-yellow-400 to-green-500 shadow-[0_0_10px_rgba(251,146,60,0.5)]"></div>

    <nav class="container max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-20 flex justify-between items-center relative">
        
        <div class="flex-shrink-0 flex items-center gap-4 group cursor-pointer w-[140px] md:w-[180px]">
            <a href="#home" onclick="showPage('home')" class="block">
                <img src="logo.png" alt="Logo Lazismu" class="h-10 md:h-11 w-auto transition-transform duration-300 group-hover:scale-105 drop-shadow-sm">
            </a>
        </div>

        <div class="hidden lg:flex absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 items-center p-1.5 rounded-full bg-slate-100/80 border border-slate-200/80 shadow-inner backdrop-blur-sm gap-1">
            
            <div class="flex items-center gap-1 mr-1">
                <a href="#home" onclick="showPage('home'); return false;" class="nav-link px-4 py-2 rounded-full text-xs font-bold text-slate-500 hover:text-slate-900 hover:bg-white hover:shadow-sm transition-all flex items-center gap-2 group">
                    <i class="fas fa-home text-[10px] group-hover:text-orange-500 transition-colors"></i> Beranda
                </a>
                <a href="#tentang" onclick="showPage('tentang'); return false;" class="nav-link px-4 py-2 rounded-full text-xs font-bold text-slate-500 hover:text-slate-900 hover:bg-white hover:shadow-sm transition-all flex items-center gap-2 group">
                    <i class="fas fa-info-circle text-[10px] group-hover:text-orange-500 transition-colors"></i> Tentang
                </a>
                <a href="#beautifikasi" onclick="showPage('beautifikasi'); return false;" class="nav-link px-4 py-2 rounded-full text-xs font-bold text-slate-500 hover:text-slate-900 hover:bg-white hover:shadow-sm transition-all flex items-center gap-2 group">
                    <i class="fas fa-tree text-[10px] group-hover:text-emerald-500 transition-colors"></i> Sedayu
                </a>
                <a href="#berita" onclick="showPage('berita'); return false;" class="nav-link px-4 py-2 rounded-full text-xs font-bold text-slate-500 hover:text-slate-900 hover:bg-white hover:shadow-sm transition-all flex items-center gap-2 group">
                    <i class="fas fa-newspaper text-[10px] group-hover:text-orange-500 transition-colors"></i> Berita
                </a>
                <a href="#riwayat" onclick="showPage('riwayat'); return false;" class="nav-link px-4 py-2 rounded-full text-xs font-bold text-slate-500 hover:text-slate-900 hover:bg-white hover:shadow-sm transition-all flex items-center gap-2 group">
                    <i class="fas fa-chart-line text-[10px] group-hover:text-orange-500 transition-colors"></i> Laporan
                </a>
                <a href="#rekapitulasi" onclick="showPage('rekapitulasi'); return false;" class="nav-link px-4 py-2 rounded-full text-xs font-bold text-slate-500 hover:text-slate-900 hover:bg-white hover:shadow-sm transition-all flex items-center gap-2 group">
                    <i class="fas fa-table text-[10px] group-hover:text-orange-500 transition-colors"></i> Rekap
                </a>
            </div>

            <div class="h-6 w-px bg-slate-300 mx-1"></div> <a href="#donasi" onclick="showPage('donasi'); return false;" class="group relative overflow-hidden bg-gradient-to-r from-orange-500 to-red-600 text-white px-6 py-2 rounded-full font-bold text-xs shadow-lg shadow-orange-500/30 hover:shadow-orange-500/50 transition-all transform hover:scale-105 active:scale-95 flex items-center gap-2 ml-1">
                <i class="fas fa-heart text-[10px] animate-pulse"></i> 
                <span>DONASI</span>
                <div class="absolute inset-0 -translate-x-full group-hover:animate-shine bg-gradient-to-r from-transparent via-white/30 to-transparent z-0"></div>
            </a>
        </div>

        <div class="flex items-center justify-end gap-3 w-[140px] md:w-[180px]">
    
    <div class="flex items-center gap-3">
    
    <div id="login-btn-wrapper">
        <button onclick="doLogin()" class="bg-slate-900 text-white px-5 py-2.5 rounded-xl font-bold text-sm hover:bg-orange-600 transition-all shadow-lg shadow-slate-900/20 active:scale-95 flex items-center gap-2 group">
            <div class="w-6 h-6 bg-white/20 rounded-full flex items-center justify-center group-hover:bg-white/30 transition">
                <i class="fas fa-sign-in-alt text-xs"></i>
            </div>
            <span id="label-login">Masuk Akun</span>
        </button>
    </div>

    <div id="user-profile-menu" class="hidden relative">
        
        <button onclick="toggleUserDropdown()" class="flex items-center gap-3 bg-white border border-slate-200 rounded-full pl-1.5 pr-4 py-1.5 hover:shadow-md hover:border-orange-200 transition-all focus:ring-4 focus:ring-orange-100 group">
            
            <div class="relative">
                <div class="w-9 h-9 rounded-full bg-slate-100 flex items-center justify-center text-slate-400 border border-slate-200 overflow-hidden">
                    <img id="user-avatar" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%2394a3b8'%3E%3Cpath d='M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z'/%3E%3C/svg%3E" 
                         class="w-full h-full object-cover" 
                         onerror="this.src='data:image/svg+xml,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' viewBox=\'0 0 24 24\' fill=\'%2394a3b8\'%3E%3Cpath d=\'M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z\'/%3E%3C/svg%3E'">
                </div>
                
                <div id="google-linked-indicator" class="hidden absolute -bottom-1 -right-1 bg-white rounded-full p-0.5 shadow-sm border border-slate-100 z-10">
                    <img src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg" class="w-3 h-3">
                </div>
            </div>

            <div class="text-left hidden md:flex flex-col justify-center h-9 max-w-[120px]">
                <p id="user-name" class="text-xs font-bold text-slate-700 leading-tight truncate w-full" title="Nama User">User</p>
                <p id="user-role" class="text-[9px] font-bold text-slate-400 uppercase tracking-wider truncate w-full flex items-center gap-1">
                    <span>Donatur</span>
                </p>
            </div>

            <i class="fas fa-chevron-down text-[10px] text-slate-300 group-hover:text-slate-500 transition-colors ml-1"></i>
        </button>

        <div id="user-dropdown-content" class="hidden absolute top-full right-0 mt-3 w-64 bg-white rounded-2xl shadow-xl shadow-slate-200/50 border border-slate-100 py-2 z-50 transform origin-top-right transition-all animate-fade-in-up">
            
            <div class="md:hidden px-4 py-3 border-b border-slate-50 mb-1 bg-slate-50/50">
                <p class="text-xs font-bold text-slate-800 truncate" id="mobile-user-name">User Name</p>
                <p class="text-[10px] text-slate-400 uppercase tracking-wider truncate" id="mobile-user-role">Donatur</p>
            </div>

            <div class="px-2 space-y-1">
                <button onclick="showPage('dashboard'); toggleUserDropdown()" class="w-full text-left px-3 py-2.5 rounded-xl hover:bg-orange-50 group transition flex items-center gap-3">
                    <div class="w-9 h-9 rounded-lg bg-orange-100 text-orange-600 flex items-center justify-center shadow-sm group-hover:scale-110 transition-transform"><i class="fas fa-chart-pie"></i></div>
                    <div class="flex-1 min-w-0">
                        <span class="block text-sm font-bold text-slate-700 group-hover:text-orange-700">Dashboard Saya</span>
                        <span class="block text-[10px] text-slate-400 truncate">Statistik & Riwayat Donasi</span>
                    </div>
                </button>
            </div>

            <div class="h-px bg-slate-100 my-2 mx-4"></div>

            <div id="santri-menu-options" class="px-2 space-y-1 hidden">
                <p class="px-3 text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1 mt-1">Pengaturan Santri</p>
                
                <button onclick="openAvatarModal()" class="w-full text-left px-3 py-2 rounded-lg hover:bg-slate-50 flex items-center gap-3 transition group">
                    <div class="w-7 h-7 rounded-md bg-yellow-50 text-yellow-500 flex items-center justify-center group-hover:bg-yellow-100 transition"><i class="fas fa-smile"></i></div>
                    <span class="text-xs font-bold text-slate-600 group-hover:text-slate-800">Ganti Avatar</span>
                </button>
                
                <button onclick="openChangePassModal()" class="w-full text-left px-3 py-2 rounded-lg hover:bg-slate-50 flex items-center gap-3 transition group">
                    <div class="w-7 h-7 rounded-md bg-blue-50 text-blue-500 flex items-center justify-center group-hover:bg-blue-100 transition"><i class="fas fa-key"></i></div>
                    <span class="text-xs font-bold text-slate-600 group-hover:text-slate-800">Ganti Password</span>
                </button>
                
                <button onclick="linkGoogleAccount()" class="w-full text-left px-3 py-2 rounded-lg hover:bg-slate-50 flex items-center gap-3 transition group">
                    <div class="w-7 h-7 rounded-md bg-white border border-slate-200 flex items-center justify-center group-hover:border-slate-300 transition"><img src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg" class="w-3.5 h-3.5"></div>
                    <span class="text-xs font-bold text-slate-600 group-hover:text-slate-800">Sambung Google</span>
                </button>
                
                <div class="h-px bg-slate-100 my-2 mx-2"></div>
            </div>

            <div class="px-2 pb-1">
                <button onclick="doLogout()" class="w-full text-left px-3 py-2 rounded-lg hover:bg-red-50 flex items-center gap-3 transition group">
                    <div class="w-7 h-7 rounded-md bg-red-50 text-red-500 flex items-center justify-center group-hover:bg-red-100 transition"><i class="fas fa-sign-out-alt"></i></div>
                    <span class="text-xs font-bold text-red-500 group-hover:text-red-600">Keluar Akun</span>
                </button>
            </div>
        </div>
    </div>
</div>
            
    <button id="menu-toggle" class="lg:hidden w-10 h-10 flex items-center justify-center text-slate-600 hover:text-orange-600 hover:bg-orange-50 rounded-full transition-all border border-transparent hover:border-orange-200">
        <i class="fas fa-bars text-lg"></i>
    </button>
</div>

        <div id="menu-links" class="hidden absolute top-full left-0 w-full bg-white/95 backdrop-blur-xl shadow-2xl border-t border-slate-100 flex-col p-4 space-y-2 lg:hidden animate-fade-in-up origin-top z-40 rounded-b-3xl">
            <a href="#donasi" onclick="showPage('donasi'); document.getElementById('menu-links').classList.add('hidden'); return false;" class="block w-full text-center bg-gradient-to-r from-orange-500 to-red-600 text-white py-3 rounded-xl font-bold text-sm shadow-md mb-4">
                <i class="fas fa-heart animate-pulse mr-2"></i> DONASI SEKARANG
            </a>

            <div class="grid grid-cols-2 gap-2">
                <a href="#home" onclick="showPage('home'); document.getElementById('menu-links').classList.add('hidden'); return false;" class="nav-link px-4 py-3 rounded-xl bg-slate-50 hover:bg-white border border-slate-100 hover:border-orange-200 text-slate-600 font-bold text-xs flex flex-col items-center justify-center gap-2 transition-all">
                    <i class="fas fa-home text-lg text-slate-400"></i> Beranda
                </a>
                <a href="#tentang" onclick="showPage('tentang'); document.getElementById('menu-links').classList.add('hidden'); return false;" class="nav-link px-4 py-3 rounded-xl bg-slate-50 hover:bg-white border border-slate-100 hover:border-orange-200 text-slate-600 font-bold text-xs flex flex-col items-center justify-center gap-2 transition-all">
                    <i class="fas fa-info-circle text-lg text-slate-400"></i> Tentang
                </a>
                <a href="#beautifikasi" onclick="showPage('beautifikasi'); document.getElementById('menu-links').classList.add('hidden'); return false;" class="nav-link px-4 py-3 rounded-xl bg-slate-50 hover:bg-white border border-slate-100 hover:border-emerald-200 text-slate-600 font-bold text-xs flex flex-col items-center justify-center gap-2 transition-all">
                    <i class="fas fa-tree text-lg text-slate-400"></i> Sedayu
                </a>
                <a href="#berita" onclick="showPage('berita'); document.getElementById('menu-links').classList.add('hidden'); return false;" class="nav-link px-4 py-3 rounded-xl bg-slate-50 hover:bg-white border border-slate-100 hover:border-orange-200 text-slate-600 font-bold text-xs flex flex-col items-center justify-center gap-2 transition-all">
                    <i class="fas fa-newspaper text-lg text-slate-400"></i> Berita
                </a>
                <a href="#riwayat" onclick="showPage('riwayat'); document.getElementById('menu-links').classList.add('hidden'); return false;" class="nav-link px-4 py-3 rounded-xl bg-slate-50 hover:bg-white border border-slate-100 hover:border-orange-200 text-slate-600 font-bold text-xs flex flex-col items-center justify-center gap-2 transition-all">
                    <i class="fas fa-chart-line text-lg text-slate-400"></i> Laporan
                </a>
            </div>
             <a href="#rekapitulasi" onclick="showPage('rekapitulasi'); document.getElementById('menu-links').classList.add('hidden'); return false;" class="nav-link block px-4 py-3 rounded-xl bg-slate-50 hover:bg-white border border-slate-100 hover:border-orange-200 text-slate-600 font-bold text-xs text-center transition-all">
                <i class="fas fa-table mr-2 text-slate-400"></i> Rekapitulasi Data
            </a>
        </div>

    </nav>
</header>
